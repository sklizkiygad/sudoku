(function(){"use strict";var e={9222:function(e,t,n){var r=n(9242),a=n(3396);function o(e,t,n,r,o,i){const s=(0,a.up)("MyHeader"),l=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(s),(0,a.Wm)(l)],64)}const i={class:"my-header"};function s(e,t,n,r,o,s){const l=(0,a.up)("RouterLink");return(0,a.wg)(),(0,a.iD)("div",i,[(0,a.Wm)(l,{to:"/"},{default:(0,a.w5)((()=>[(0,a.Uk)("Sudoku")])),_:1})])}var l={},u=n(89);const d=(0,u.Z)(l,[["render",s]]);var c=d,m={components:{MyHeader:c},data(){return{}}};const f=(0,u.Z)(m,[["render",o]]);var v=f,h=n(2483);const x={class:"main-page"},p={class:"main-menu"};function y(e,t,n,r,o,i){const s=(0,a.up)("RouterLink");return(0,a.wg)(),(0,a.iD)("div",x,[(0,a._)("div",p,[(0,a.Wm)(s,{to:"/sudoku",class:"button-arounder"},{default:(0,a.w5)((()=>[(0,a.Uk)("Играть")])),_:1})])])}var S={name:"MainPage",data(){return{}}};const I=(0,u.Z)(S,[["render",y]]);var b=I;const A={class:"sudoku-page"};function g(e,t,n,r,o,i){const s=(0,a.up)("Board");return(0,a.wg)(),(0,a.iD)("div",A,[(0,a.Wm)(s)])}var O=n(7139);const k={class:"board"},w={class:"board-button"};function E(e,t,n,r,o,i){const s=(0,a.up)("BoardItem");return(0,a.wg)(),(0,a.iD)("div",k,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.formattedArray,((e,t)=>((0,a.wg)(),(0,a.j4)(s,{indexOfSlot:t},{default:(0,a.w5)((()=>[(0,a.Uk)((0,O.zw)(e||""),1)])),_:2},1032,["indexOfSlot"])))),256)),(0,a._)("div",w,[(0,a._)("button",{class:"button-arounder",onClick:t[0]||(t[0]=(...e)=>i.startAgain&&i.startAgain(...e))},"Заново")])])}n(7658);const C=["contenteditable"];function T(e,t,n,r,o,i){return(0,a.wg)(),(0,a.iD)("div",{class:(0,O.C_)(["board-item",e.invalidSlots.includes(n.indexOfSlot)?"invalid-slot":""]),style:(0,O.j5)({borderBottom:i.isBorderBottom()}),contenteditable:i.isContentEditable(),onInput:t[0]||(t[0]=(...e)=>i.restrictToInteger&&i.restrictToInteger(...e))},[(0,a.WI)(e.$slots,"default")],46,C)}var B=n(65),N={props:{indexItem:{type:Number,default:0},indexOfSlot:{type:Number,default:0}},methods:{restrictToInteger(e){e.target.innerText&&(e.target.innerText=e.target.innerText[0].replace(/[^\d]/g,"")),this.$store.dispatch("checkInputValue",{indexOfSlot:this.indexOfSlot,value:e.target.innerText})},isBorderBottom(){return this.indexItem>=19&&this.indexItem<=27||this.indexItem>=46&&this.indexItem<=54?"3px solid":void 0},isContentEditable(){return document.getElementsByClassName("board-item"),!0}},computed:(0,B.rn)({invalidSlots:e=>e.invalidSlots})};const M=(0,u.Z)(N,[["render",T]]);var _=M,j={components:{BoardItem:_},data(){return{formattedArray:[]}},computed:(0,B.rn)(["exampleArray"]),methods:{fillFormattedArray(){this.exampleArray.forEach((e=>{e.forEach((e=>{this.formattedArray.push(e)}))}))},checkIsEndGame(e){let t=!0;e.forEach((e=>{e.forEach((e=>{e||(t=!1)}))})),t&&(alert("победа"),this.$store.commit("setIsEndGame",!0))},startAgain(){this.$store.commit("resetArray"),this.clearAllSlots(),this.formattedArray=[],this.fillFormattedArray()},checkContentEditableSlots(){setTimeout((()=>{const e=[...document.getElementsByClassName("board-item")];e.map((e=>{e.innerText&&(e.style.background="#afafaf",e.contentEditable=!1)}))}),0)},clearAllSlots(){const e=[...document.getElementsByClassName("board-item")];e.map((e=>{"true"===e.contentEditable&&(e.innerText="")}))}},mounted(){this.fillFormattedArray(),this.checkContentEditableSlots()},watch:{exampleArray:{handler:function(e,t){this.checkIsEndGame(e)},deep:!0}}};const D=(0,u.Z)(j,[["render",E]]);var G=D,W={components:{Board:G}};const Z=(0,u.Z)(W,[["render",g]]);var V=Z;const F=[{path:"/",name:"main",component:b},{path:"/sudoku",name:"sudoku",component:V}],H=(0,h.p7)({history:(0,h.PO)("/sudoku/"),routes:F});var P=H,R=(0,B.MT)({state:{exampleArray:[[5,3,0,0,7,0,0,0,0],[6,0,0,1,9,5,0,0,0],[0,9,8,0,0,0,0,6,0],[8,0,0,0,6,0,0,0,3],[4,0,0,8,0,3,0,0,1],[7,0,0,0,2,0,0,0,6],[0,6,0,0,0,0,2,8,0],[0,0,0,4,1,9,0,0,5],[0,0,0,0,8,0,0,7,9]],currentArray:[[5,3,0,0,7,0,0,0,0],[6,0,0,1,9,5,0,0,0],[0,9,8,0,0,0,0,6,0],[8,0,0,0,6,0,0,0,3],[4,0,0,8,0,3,0,0,1],[7,0,0,0,2,0,0,0,6],[0,6,0,0,0,0,2,8,0],[0,0,0,4,1,9,0,0,5],[0,0,0,0,8,0,0,7,9]],invalidSlots:[],isEndGame:!1},getters:{},mutations:{resetArray(e){e.exampleArray=e.currentArray,e.invalidSlots=[],e.isEndGame=!1},setInvalidSlots(e,t){"add"!==t.event||e.invalidSlots.includes(+t.indexOfSlot)?"remove"===t.event&&e.invalidSlots.includes(+t.indexOfSlot)&&(e.invalidSlots=e.invalidSlots.filter((e=>e!=+t.indexOfSlot))):e.invalidSlots=[...e.invalidSlots,t.indexOfSlot]},insertInArray(e,t){e.exampleArray[t.indexOfArray][t.indexInSubArray]=+t.value},setIsEndGame(e,t){e.isEndGame=t}},actions:{isSameNumberInColumn({commit:e,state:t,dispatch:n},r){let a=!1;return console.log(r),t.exampleArray.forEach(((e,t)=>{e.forEach(((e,n)=>{n==r.indexInSubArray&&e==+r.value&&t!==r.indexInArray&&(a=!0)}))})),a},isSameNumberInRow({commit:e,state:t,dispatch:n},r){let a=!1;return t.exampleArray[r.indexInArray].forEach(((e,t)=>{+r.value&&e==+r.value&&t!==r.indexInSubArray&&(a=!0)})),a},async isSameNumberInArea({commit:e,state:t,dispatch:n},r){let a=[],o=[],i=[];return await n("getSquareIndexes",r.indexInArray).then((e=>{o=e})),await n("getSquareIndexes",r.indexInSubArray).then((e=>{i=e})),o.forEach((e=>{i.forEach((n=>{+r.indexInArray===e&&+r.indexInSubArray===n?a.push(0):a.push(t.exampleArray[e][n])}))})),a.includes(+r.value)},getSquareIndexes(e,t){return 0===+t||1===+t||2===+t?[0,1,2]:3===+t||4===+t||5===+t?[3,4,5]:[6,7,8]},async checkCurrentValue({dispatch:e},t){let n=!1,r=!1,a=!1;return await e("isSameNumberInColumn",t).then((e=>{n=e})),await e("isSameNumberInRow",t).then((e=>{r=e})),await e("isSameNumberInArea",t).then((e=>{a=e})),!r&&!n&&!a},async checkInputValue({commit:e,state:t,dispatch:n},r){let a=Math.ceil(+r.indexOfSlot/9)>=0?Math.floor(r.indexOfSlot/9):0,o=r.indexOfSlot-9*a;if(r.value){const t={indexInArray:a,indexInSubArray:o,value:r.value};let i=!1;await n("checkCurrentValue",t).then((e=>{i=e})),e("setInvalidSlots",i?{indexOfSlot:+r.indexOfSlot,event:"remove"}:{indexOfSlot:+r.indexOfSlot,event:"add"}),e("insertInArray",{indexOfArray:a,indexInSubArray:o,value:+r.value})}else e("insertInArray",{indexOfArray:a,indexInSubArray:o,value:0}),e("setInvalidSlots",{indexOfSlot:+r.indexOfSlot,event:"remove"});n("checkExistsInvalid")},checkExistsInvalid({commit:e,state:t,dispatch:n}){t.invalidSlots.forEach((async r=>{let a=Math.ceil(+r/9)>=0?Math.floor(r/9):0,o=r-9*a,i=t.exampleArray[a][o];const s={indexInArray:a,indexInSubArray:o,value:i};await n("checkCurrentValue",s).then((t=>{t&&(console.log(r),e("setInvalidSlots",{indexOfSlot:+r,event:"remove"}))}))}))}},modules:{}});(0,r.ri)(v).use(R).use(P).mount("#app")}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,r,a,o){if(!r){var i=1/0;for(d=0;d<e.length;d++){r=e[d][0],a=e[d][1],o=e[d][2];for(var s=!0,l=0;l<r.length;l++)(!1&o||i>=o)&&Object.keys(n.O).every((function(e){return n.O[e](r[l])}))?r.splice(l--,1):(s=!1,o<i&&(i=o));if(s){e.splice(d--,1);var u=a();void 0!==u&&(t=u)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[r,a,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,o,i=r[0],s=r[1],l=r[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(l)var d=l(n)}for(t&&t(r);u<i.length;u++)o=i[u],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(d)},r=self["webpackChunksudoku"]=self["webpackChunksudoku"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(9222)}));r=n.O(r)})();
//# sourceMappingURL=app.dc3dc3db.js.map